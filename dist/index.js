import{deepmerge as e}from"deepmerge-ts";import p from"./lib/pipe-all.js";import a from"./options/index.js";var f=(r={})=>{for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&r[o]===!0&&(r[o]=a()[o]);const t=e(a(),r);return t.path=t.path?.endsWith("/")?t.path:`${t.path}/`,{name:"astro-compress",hooks:{"astro:config:done":async o=>{t.path=t.path?t.path:o.config.outDir.toString()},"astro:build:done":async()=>{await p(t,t.logger)}}}};export{f as default};
